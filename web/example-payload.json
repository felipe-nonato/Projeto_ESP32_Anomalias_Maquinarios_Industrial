{
  "description": "Formato simplificado do payload MQTT para detecção de anomalias",
  "topic": "machines/anomalies",
  
  "examples": [
    {
      "case": "Máquina operando normalmente",
      "payload": {
        "device_id": "A1B2C3D4E5F6",
        "label": "normal",
        "score": 0.95
      }
    },
    {
      "case": "Anomalia detectada com baixa confiança",
      "payload": {
        "device_id": "A1B2C3D4E5F6",
        "label": "anomalous",
        "score": 0.45
      }
    },
    {
      "case": "Anomalia detectada com média confiança (Warning)",
      "payload": {
        "device_id": "A1B2C3D4E5F6",
        "label": "anomalous",
        "score": 0.65
      }
    },
    {
      "case": "Anomalia detectada com alta confiança (Critical)",
      "payload": {
        "device_id": "A1B2C3D4E5F6",
        "label": "anomalous",
        "score": 0.92
      }
    }
  ],
  
  "schema": {
    "device_id": {
      "type": "string",
      "description": "Identificador único do dispositivo (MAC Address sem ':')",
      "example": "A1B2C3D4E5F6"
    },
    "label": {
      "type": "string",
      "enum": ["normal", "anomalous"],
      "description": "Status da máquina: normal ou anômalo"
    },
    "score": {
      "type": "number",
      "min": 0,
      "max": 1,
      "description": "Confiança da predição (0 a 1)"
    }
  },
  
  "interpretation": {
    "status_mapping": {
      "label='normal'": "Máquina operando normalmente",
      "label='anomalous' + score > 0.8": "Status Critical (vermelho)",
      "label='anomalous' + score 0.5-0.8": "Status Warning (amarelo)",
      "label='anomalous' + score < 0.5": "Status Normal (verde)"
    }
  },
  
  "device_management": {
    "description": "Use o módulo de gerenciamento para cadastrar dispositivos",
    "features": [
      "Nome personalizado para cada dispositivo",
      "Localização GPS precisa",
      "Descrição detalhada",
      "Persistência no navegador (localStorage)"
    ]
  }
}
